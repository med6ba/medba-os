#!/bin/sh

# Repo over HTTP to avoid certificate errors
REPO="http://distro.ibiblio.org/tinycorelinux/13.x/x86_64/tcz"

if [ "$1" = "install" ]; then
    echo -e "\033[1;32m[+] Downloading $2...\033[0m"
    # Try downloading with plain wget
    wget "$REPO/$2.tcz" -O "/tmp/$2.tcz"
    
    if [ $? -eq 0 ]; then
        echo -e "\033[1;32m[✅] $2 downloaded. Extracting...\033[0m"
        # Extraction step can use unsquashfs or a static alternative
        echo "Please wait..."
    else
        echo -e "\033[1;31m[❌] Connection error. Try to ping google.com first.\033[0m"
    fi
fi
